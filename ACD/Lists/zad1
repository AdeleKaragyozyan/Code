using System;
using System.Collections.Generic;

namespace ConsoleApp28
{
    internal class Program
    {
        static void Main(string[] args)
        {
            LinkedList<int> linkedList = new LinkedList<int>();

            Console.WriteLine("Please enter numbers (type 'end' to finish):");
            string input;
            while ((input = Console.ReadLine()) != "end")
            {
                if (int.TryParse(input, out int number))
                {
                    linkedList.AddLast(number);
                }
                else
                {
                    Console.WriteLine("Invalid number. Please try again.");
                }
            }

            linkedList = Reverse(linkedList);

            Console.WriteLine("Reversed list:");
            foreach (var item in linkedList)
                Console.WriteLine(item);
        }

        static LinkedList<int> Reverse(LinkedList<int> linkedList)
        {
            if (linkedList == null || linkedList.Count == 0)
                return linkedList;

            LinkedListNode<int> prevNode = null;
            LinkedListNode<int> currNode = linkedList.First;

            while (currNode != null)
            {
                LinkedListNode<int> nextNode = currNode.Next;
                currNode.Next = prevNode;

                prevNode = currNode;
                currNode = nextNode;
            }
            LinkedList<int> reversedList = new LinkedList<int>();
            while (prevNode != null)
            {
                reversedList.AddLast(prevNode.Value);
                prevNode = prevNode.Next;
            }

            return reversedList;
        }
    }
}
